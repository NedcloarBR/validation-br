{"version":3,"sources":["../../src/documents/pis-pasep.js"],"names":["require","sumElementsByMultipliers","sumToDV","isPIS","value","pis","replace","length","sum","substr","dv","Number","charAt","module","exports"],"mappings":";;AAAA,eAA8CA,OAAO,CAAC,sBAAD,CAArD;AAAA,IAAQC,wBAAR,YAAQA,wBAAR;AAAA,IAAkCC,OAAlC,YAAkCA,OAAlC,C,CACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAgB;AAAA,MAAfC,KAAe,uEAAP,EAAO;AAC5B,MAAMC,GAAG,GAAGD,KAAK,CAACE,OAAN,CAAc,SAAd,EAAyB,EAAzB,CAAZ;AAEA,MAAI,CAACD,GAAD,IAAQA,GAAG,CAACE,MAAJ,KAAe,EAA3B,EAA+B,OAAO,KAAP;AAE/B,MAAMC,GAAG,GAAGP,wBAAwB,CAACI,GAAG,CAACI,MAAJ,CAAW,CAAX,EAAc,EAAd,CAAD,EAAoB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAApB,CAApC;AACA,MAAMC,EAAE,GAAGR,OAAO,CAACM,GAAD,CAAlB,CAN4B,CAQ5B;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAOE,EAAE,KAAKC,MAAM,CAACN,GAAG,CAACO,MAAJ,CAAW,EAAX,CAAD,CAApB;AACD,CAhBD,C,CAkBA;AACA;AACA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiBX,KAAjB","sourcesContent":["const { sumElementsByMultipliers, sumToDV } = require('../../dist/lib/utils');\n// const { sumElementsByMultipliers, sumToDV } = require('../lib/utils');\n\n/**\n * isPIS()\n * Calcula se um código de PIS/PASEP/NIS/NIT no formato 268.27649.96-0 é válido. Não\n * valida o formato, portanto, 26827649960 é equivalente a 268.27649.96-0 para efeitos\n * desta validação.\n *\n * @doc\n * - O número de PIS deve possuir 11 caracteres\n *\n * - Os caracteres de 1 a 10 são a numeração documento\n *\n * - O caractere 11 é o dígito verificador.\n *\n * 1) Partes do número\n *  _______________________________________________\n * |  Número                                 | D V |\n * |  2   6   8 . 2   7   6   4   9 . 9   6  -  0  |\n * |_________________________________________|_____|\n *\n * 2) Cálculo do DV.\n *\n *  - Soma-se o produto das algarismos 3 a 10 pelos números 3, 2, 9, 8, 7, 6, 5, 4, 3, 2\n *\n *    2   6   8   2   7   6   4   9   9   6\n *    x   x   x   x   x   x   x   x   x   x\n *    3   2   9   8   7   6   5   4   3   2\n * =  6 +12 +72 +16 +49 +12 +20 +36 +27 +12  =  234\n *\n *  - O somatório encontrado é dividido por 11 e o resultado é subtraído de 11\n *    234 / 11 tem resto 3. 11 - 3 = 8. DV1 é 8.\n *    Obs.: Caso o cálculo de DV1 retorne 0, o resultado será 5.\n *          Caso retorne 1, o resto será 0\n *\n *\n *\n *\n * Fonte: http://www.macoratti.net/alg_pis.htm\n *\n * @param {String} value Objeto postal no formato 268.27649.96-0\n * @returns {Boolean}\n */\nconst isPIS = (value = '') => {\n  const pis = value.replace(/[^\\d]+/g, '');\n\n  if (!pis || pis.length !== 11) return false;\n\n  const sum = sumElementsByMultipliers(pis.substr(0, 10), [3, 2, 9, 8, 7, 6, 5, 4, 3, 2]);\n  const dv = sumToDV(sum);\n\n  // console.log({\n  //   pis,\n  //   sum,\n  //   dvOriginal: pis.charAt(10),\n  //   dvCalculado: dv,\n  // });\n\n  return dv === Number(pis.charAt(10));\n};\n\n// console.log(isPIS());\n// console.log(isPIS('11111111111'));\n// console.log(isPIS('26827649960'));\n// console.log(isPIS('712.82677.38-0'));\n// console.log(isPIS('237.95126.95-5'));\n\nmodule.exports = isPIS;\n"],"file":"pis-pasep.js"}