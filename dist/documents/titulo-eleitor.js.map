{"version":3,"sources":["../../src/documents/titulo-eleitor.js"],"names":["require","sumElementsByMultipliers","isTitulo","value","titulo","replace","length","sum1","substr","sum2","dv1","dv2","Number","charAt","module","exports"],"mappings":";;AAAA,eAAqCA,OAAO,CAAC,cAAD,CAA5C;AAAA,IAAQC,wBAAR,YAAQA,wBAAR;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAC1B,MAAMC,MAAM,GAAGD,KAAK,CAACE,OAAN,CAAc,SAAd,EAAyB,EAAzB,CAAf;AAEA,MAAI,CAACD,MAAD,IAAWA,MAAM,CAACE,MAAP,KAAkB,EAAjC,EAAqC,OAAO,KAAP;AAErC,MAAMC,IAAI,GAAGN,wBAAwB,CAACG,MAAM,CAACI,MAAP,CAAc,CAAd,EAAiB,CAAjB,CAAD,EAAsB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAtB,CAArC;AACA,MAAMC,IAAI,GAAGR,wBAAwB,CAACG,MAAM,CAACI,MAAP,CAAc,CAAd,EAAiB,CAAjB,CAAD,EAAsB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAtB,CAArC;AAEA,MAAME,GAAG,GAAIH,IAAI,GAAG,EAAR,IAAe,EAAf,GAAoB,CAApB,GAAwBA,IAAI,GAAG,EAA3C;AACA,MAAMI,GAAG,GAAIF,IAAI,GAAG,EAAR,IAAe,EAAf,GAAoB,CAApB,GAAwBA,IAAI,GAAG,EAA3C;AAEA,MAAIC,GAAG,KAAKE,MAAM,CAACR,MAAM,CAACS,MAAP,CAAc,EAAd,CAAD,CAAlB,EAAuC,OAAO,KAAP;AACvC,MAAIF,GAAG,KAAKC,MAAM,CAACR,MAAM,CAACS,MAAP,CAAc,EAAd,CAAD,CAAlB,EAAuC,OAAO,KAAP;AAEvC,SAAO,IAAP;AACD,CAfD;;AAiBAC,MAAM,CAACC,OAAP,GAAiBb,QAAjB","sourcesContent":["const { sumElementsByMultipliers } = require('../lib/utils');\n\n/**\n * isTitulo()\n * Calcula se um título eleitoral é válido\n *\n * @doc\n * Título de eleitor deve possuir 12 dígitos.\n *\n * - Os caracteres 1 a 8 são números sequenciais.\n *\n * - Os caracteres 9 e 10 representam os estados da federação onde o título\n *   foi emitido (01 = SP, 02 = MG, 03 = RJ, 04 = RS, 05 = BA, 06 = PR, 07 = CE, 08 = PE,\n *   09 = SC, 10 = GO,  11 = MA12 = PB, 13 = PA, 14 = ES, 15 = PI, 16 = RN, 17 = AL,\n *   18 = MT, 19 = MS, 20 = DF, 21 = SE, 22 = AM, 23 = RO, 24 = AC, 25 = AP, 26 = RR,\n *   27 = TO, 28 = Exterior(ZZ).\n *\n * - Os caracteres 11 e 12 são dígitos verificadores.\n *\n * 1) Partes do número\n * ------------------------------------------------\n * |       Número Sequencial      |  UF   |   DV  |\n *  1   0   2   3   8   5   0   1   0   6   7   1\n *\n * 2) Cálculo do primeiro DV.\n *\n *  - Soma-se o produto das algarismos 1 a 8 pelos números 2, 3, 4, 5, 6, 7, 8 e 9.\n *\n *   1   0   2   3   8   5   0   1\n *   x   x   x   x   x   x   x   x\n *   2   3   4   5   6   7   8   9\n * = 2 + 0 + 8 +15 +48 +35 + 0 + 9  = 117\n *\n *  - O somatório encontrado é dividido por 11. O DV1 é o resto da divisão. Se o\n *    resto for 10, o DV1 é 0.\n *\n * 2.1) 117 / 11 tem resto igual a 7.\n *\n * 3) Cálculo do segundo DV\n *\n * - Soma-se o produto dos algarismos 9 a 11 (relativos aos 2 dígitos da UF e o novo\n *   DV1 que acabou de ser calculado) e os multiplicam pelos números 7, 8 e 9. Se o\n *   resto for 10, DV2 será 0.\n *   0   6   7\n *   x   x   x\n *   7   8   9\n * = 0 +48 +63 = 111\n *\n * 3.1) 111 / 11 tem resto igual a 1.\n *\n * Fonte: http://clubes.obmep.org.br/blog/a-matematica-nos-documentos-titulo-de-eleitor/\n *\n * @param {String} value Título eleitoral\n * @returns {Boolean}\n */\nconst isTitulo = (value) => {\n  const titulo = value.replace(/[^\\d]+/g, '');\n\n  if (!titulo || titulo.length !== 12) return false;\n\n  const sum1 = sumElementsByMultipliers(titulo.substr(0, 8), [2, 3, 4, 5, 6, 7, 8, 9]);\n  const sum2 = sumElementsByMultipliers(titulo.substr(8, 3), [7, 8, 9]);\n\n  const dv1 = (sum1 % 11) >= 10 ? 0 : sum1 % 11;\n  const dv2 = (sum2 % 11) >= 10 ? 0 : sum2 % 11;\n\n  if (dv1 !== Number(titulo.charAt(10))) return false;\n  if (dv2 !== Number(titulo.charAt(11))) return false;\n\n  return true;\n};\n\nmodule.exports = isTitulo;\n"],"file":"titulo-eleitor.js"}