{"version":3,"sources":["../../src/documents/cnpj.js"],"names":["require","invalidListGenerator","sumElementsByMultipliers","sumToDV","isCNPJ","value","cnpj","replace","blackList","length","includes","sum1","substr","sum2","dv1","dv2","Number","charAt","module","exports"],"mappings":";;AAAA,eAAoEA,OAAO,CAAC,cAAD,CAA3E;AAAA,IAAQC,oBAAR,YAAQA,oBAAR;AAAA,IAA8BC,wBAA9B,YAA8BA,wBAA9B;AAAA,IAAwDC,OAAxD,YAAwDA,OAAxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAgB;AAAA,MAAfC,KAAe,uEAAP,EAAO;AAC7B,MAAMC,IAAI,GAAGD,KAAK,CAACE,OAAN,CAAc,SAAd,EAAyB,EAAzB,CAAb;AAEA,MAAMC,SAAS,GAAGP,oBAAoB,CAAC,EAAD,CAAtC;AACA,MAAI,CAACK,IAAD,IAASA,IAAI,CAACG,MAAL,KAAgB,EAAzB,IAA+BD,SAAS,CAACE,QAAV,CAAmBJ,IAAnB,CAAnC,EAA6D,OAAO,KAAP;AAE7D,MAAMK,IAAI,GAAGT,wBAAwB,CAACI,IAAI,CAACM,MAAL,CAAY,CAAZ,EAAe,EAAf,CAAD,EAAqB,cAArB,CAArC;AACA,MAAMC,IAAI,GAAGX,wBAAwB,CAACI,IAAI,CAACM,MAAL,CAAY,CAAZ,EAAe,EAAf,CAAD,EAAqB,eAArB,CAArC;AAEA,MAAME,GAAG,GAAGX,OAAO,CAACQ,IAAD,CAAnB;AACA,MAAMI,GAAG,GAAGZ,OAAO,CAACU,IAAD,CAAnB;AAEA,MAAIC,GAAG,KAAKE,MAAM,CAACV,IAAI,CAACW,MAAL,CAAY,EAAZ,CAAD,CAAlB,EAAqC,OAAO,KAAP;AACrC,MAAIF,GAAG,KAAKC,MAAM,CAACV,IAAI,CAACW,MAAL,CAAY,EAAZ,CAAD,CAAlB,EAAqC,OAAO,KAAP;AAErC,SAAO,IAAP;AACD,CAhBD;;AAkBAC,MAAM,CAACC,OAAP,GAAiBf,MAAjB","sourcesContent":["const { invalidListGenerator, sumElementsByMultipliers, sumToDV } = require('../lib/utils');\n/**\n * isCNPJ()\n * Calcula se um CNPJ é válido\n *\n * @doc\n * - CNPJ deve possuir 14 dígitos no formato 00.000.000/0000-00\n *\n * - Os caracteres 1 a 8 são números sequenciais definidos pela Receita Federal\n *\n * - Os caracteres 9 a 12 são a identificação das filiais da empresa.\n *\n * - Os caracteres 13 e 14 são os dígitos verificadores\n *\n * 1) Partes do número\n *  _______________________________ _______________ _______\n * | Número                        |    Filiais    |  DV   |\n * | 1   1 . 2   2   2 . 3   3   3 / 0   0   0   1 - X   Y |\n * |_______________________________|_______________|_______|\n *\n * 2) Cálculo do primeiro DV.\n *\n *  - Soma-se o produto das algarismos 1 a 12 pelos números 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2\n *\n *    1   1   2   2   2   3   3   3   0   0   0   1\n *    x   x   x   x   x   x   x   x   x   x   x   x\n *    5   4   3   2   9   8   7   6   5   4   3   2\n * =  5  +4  +6  +4 +18 +24 +21 +18  +0  +0  +0  +2 = 102\n *\n *  - O somatório encontrado é dividido por 11 e o resultado é subtraído de 11\n *    102 / 11 tem resto 8. 11 - 3 = 8. DV1 é 8.\n *    Obs.: Caso o cálculo de DV1 retorne 10, o resultado será 0.\n *\n * 3) Cálculo do segundo DV.\n *\n *  - Soma-se o produto das algarismos 1 a 13 (incluindo o DV1 calculado) pelos\n *    números 6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2.\n *\n *    1   1   2   2   2   3   3   3   0   0   0   1   8\n *    x   x   x   x   x   x   x   x   x   x   x   x   x\n *    6   5   4   3   2   9   8   7   6   5   4   3   2\n * =  6  +5  +8  +6  +4 +27 +24 +21  +0  +0  +0  +3 +16 = 120\n *\n *  - O somatório encontrado é dividido por 11 e o resultado é subtraído de 11\n *    120 / 11 tem resto 10. 11 - 10 = 1. DV2 é 1.\n *    Obs.: Caso o cálculo de DV2 retorne 10, o resultado será 0.\n *\n * Fonte: http://www.macoratti.net/alg_cnpj.htm\n *\n * @param {String} value Título eleitoral\n * @returns {Boolean}\n */\nconst isCNPJ = (value = '') => {\n  const cnpj = value.replace(/[^\\d]+/g, '');\n\n  const blackList = invalidListGenerator(14);\n  if (!cnpj || cnpj.length !== 14 || blackList.includes(cnpj)) return false;\n\n  const sum1 = sumElementsByMultipliers(cnpj.substr(0, 12), '543298765432');\n  const sum2 = sumElementsByMultipliers(cnpj.substr(0, 13), '6543298765432');\n\n  const dv1 = sumToDV(sum1);\n  const dv2 = sumToDV(sum2);\n\n  if (dv1 !== Number(cnpj.charAt(12))) return false;\n  if (dv2 !== Number(cnpj.charAt(13))) return false;\n\n  return true;\n};\n\nmodule.exports = isCNPJ;\n"],"file":"cnpj.js"}